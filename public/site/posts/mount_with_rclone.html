<!doctype html>
<html lang="en">
 <head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <title>Kalle Strålman ☢️</title>
  <meta content="A tech hobbyist's guide to the galaxy." name="description">
  <link href="/favicon.ico" rel="icon">
  <meta content="width=device-width, initial-scale=1" name="viewport">
  <script src="/highlight.js/highlight.min.js"></script>
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/all.min.css" rel="stylesheet">
  <link type="text/css" rel="stylesheet" title="hljs-style" href="/highlight.js/styles/a11y-dark.min.css">
 </head>
 <body>
  <div id="root" style="width: 100%; height: 100%;" class="silk-colors_dark">
   <style>html, body { padding: 0px; margin: 0px; }* { box-sizing: border-box; }</style>
   <style>.kobweb-box { display: grid; grid-template-columns: minmax(0px, 1fr); grid-template-rows: minmax(0px, 1fr); }.kobweb-box > * { grid-area: 1 / 1; }.kobweb-box.kobweb-align-top-start { place-items: start; }.kobweb-box.kobweb-align-top-center { place-items: start center; }.kobweb-box.kobweb-align-top-end { place-items: start end; }.kobweb-box.kobweb-align-center-start { place-items: center start; }.kobweb-box.kobweb-align-center { place-items: center; }.kobweb-box.kobweb-align-center-end { place-items: center end; }.kobweb-box.kobweb-align-bottom-start { place-items: end start; }.kobweb-box.kobweb-align-bottom-center { place-items: end center; }.kobweb-box.kobweb-align-bottom-end { place-items: end; }.kobweb-box > .kobweb-align-top-start-self { place-self: start; }.kobweb-box > .kobweb-align-top-center-self { place-self: start center; }.kobweb-box > .kobweb-align-top-end-self { place-self: start end; }.kobweb-box > .kobweb-align-center-start-self { place-self: center start; }.kobweb-box > .kobweb-align-center-self { place-self: center; }.kobweb-box > .kobweb-align-center-end-self { place-self: center end; }.kobweb-box > .kobweb-align-bottom-start-self { place-self: end start; }.kobweb-box > .kobweb-align-bottom-center-self { place-self: end center; }.kobweb-box > .kobweb-align-bottom-end-self { place-self: end; }.kobweb-col { display: flex; flex-direction: column; }.kobweb-col.kobweb-arrange-top { justify-content: flex-start; }.kobweb-col.kobweb-arrange-center { justify-content: center; }.kobweb-col.kobweb-arrange-bottom { justify-content: flex-end; }.kobweb-col.kobweb-arrange-space-evenly { justify-content: space-evenly; }.kobweb-col.kobweb-arrange-space-between { justify-content: space-between; }.kobweb-col.kobweb-arrange-space-around { justify-content: space-around; }.kobweb-col.kobweb-align-start { align-items: flex-start; }.kobweb-col.kobweb-align-center-horiz { align-items: center; }.kobweb-col.kobweb-align-end { align-items: flex-end; }.kobweb-col > .kobweb-align-start-self { align-self: flex-start; }.kobweb-col > .kobweb-align-center-horiz-self { align-self: center; }.kobweb-col > .kobweb-align-end-self { align-self: flex-end; }.kobweb-row { display: flex; flex-direction: row; }.kobweb-row.kobweb-arrange-start { justify-content: flex-start; }.kobweb-row.kobweb-arrange-center { justify-content: center; }.kobweb-row.kobweb-arrange-end { justify-content: flex-end; }.kobweb-row.kobweb-arrange-space-evenly { justify-content: space-evenly; }.kobweb-row.kobweb-arrange-space-between { justify-content: space-between; }.kobweb-row.kobweb-arrange-space-around { justify-content: space-around; }.kobweb-row.kobweb-align-top { align-items: flex-start; }.kobweb-row.kobweb-align-center-vert { align-items: center; }.kobweb-row.kobweb-align-bottom { align-items: flex-end; }.kobweb-row > .kobweb-align-top-self { align-self: flex-start; }.kobweb-row > .kobweb-align-center-vert-self { align-self: center; }.kobweb-row > .kobweb-align-bottom-self { align-self: flex-end; }.kobweb-spacer { flex-grow: 1; }</style>
   <style>html { scroll-behavior: smooth; overflow-y: scroll; }body { font-family: Ubuntu, Roboto, Arial, Helvetica, sans-serif; font-size: 18px; line-height: 1.5; }code { font-family: "Ubuntu Mono", "Roboto Mono", "Lucida Console", "Courier New", monospace; font-size: 18px; line-height: 1.5; }canvas { margin: 1rem 0px 0px; }p { margin: 1rem 0px 0px; }pre { margin: 1rem 0px 0px; }h1 { margin: 2rem 0px 0px; font-size: 2rem; letter-spacing: -1.5px; line-height: 1.1; }h2 { margin: 2rem 0px 0px; font-size: 2rem; }h3 { margin: 2rem 0px 0px; font-size: 1.5rem; }h4 { margin: 2rem 0px 0px; font-size: 1.25rem; }code.hljs { border-radius: 8px; }@keyframes silk-checkbox-enabled {   0% { opacity: 0; }  100% { opacity: 1; }}.silk-colors_light { --silk-background-color: rgb(212, 213, 204); --silk-color: rgb(0, 0, 0); --silk-border-color: rgb(189, 190, 178); --silk-focus-outline-color: rgba(33, 150, 243, 0.4980392156862745); --silk-placeholder-color: rgb(158, 158, 158); --silk-button-background-default-color: rgb(204, 204, 204); --silk-button-background-hover-color: rgb(163, 163, 163); --silk-button-background-pressed-color: rgb(122, 122, 122); --silk-checkbox-icon-background-color: rgb(33, 150, 243); --silk-checkbox-icon-background-hover-color: rgb(30, 136, 229); --silk-checkbox-icon-color: rgb(255, 255, 255); --silk-input-border-hover-color: rgb(158, 158, 158); --silk-input-border-invalid-color: rgb(183, 28, 28); --silk-input-filled-color: rgb(238, 238, 238); --silk-input-filled-hover-color: rgb(214, 214, 214); --silk-input-filled-focus-color: rgba(0, 0, 0, 0); --silk-overlay-background-color: rgba(0, 0, 0, 0.4980392156862745); --silk-switch-thumb-color: rgb(255, 255, 255); --silk-tab-color: rgb(0, 0, 0); --silk-tab-background-color: rgb(255, 255, 255); --silk-tab-disabled-background-color: rgb(255, 255, 255); --silk-tab-hover-background-color: rgb(211, 211, 211); --silk-tab-pressed-background-color: rgb(245, 245, 245); --silk-tooltip-background-color: rgb(0, 0, 0); --silk-tooltip-color: rgb(255, 255, 255); --silk-link-default-color: rgb(0, 0, 255); --silk-link-visited-color: rgb(0, 0, 255); }.silk-colors_dark { --silk-background-color: rgb(43, 42, 51); --silk-color: rgb(255, 255, 255); --silk-border-color: rgb(66, 65, 77); --silk-focus-outline-color: rgba(33, 150, 243, 0.4980392156862745); --silk-placeholder-color: rgb(158, 158, 158); --silk-button-background-default-color: rgb(51, 51, 51); --silk-button-background-hover-color: rgb(92, 92, 92); --silk-button-background-pressed-color: rgb(133, 133, 133); --silk-checkbox-icon-background-color: rgb(144, 202, 249); --silk-checkbox-icon-background-hover-color: rgb(100, 181, 246); --silk-checkbox-icon-color: rgb(0, 0, 0); --silk-input-border-hover-color: rgb(117, 117, 117); --silk-input-border-invalid-color: rgb(229, 115, 115); --silk-input-filled-color: rgb(33, 33, 33); --silk-input-filled-hover-color: rgb(56, 56, 56); --silk-input-filled-focus-color: rgba(0, 0, 0, 0); --silk-overlay-background-color: rgba(255, 255, 255, 0.4980392156862745); --silk-switch-thumb-color: rgb(255, 255, 255); --silk-tab-color: rgb(255, 255, 255); --silk-tab-background-color: rgb(0, 0, 0); --silk-tab-disabled-background-color: rgb(0, 0, 0); --silk-tab-hover-background-color: rgb(47, 79, 79); --silk-tab-pressed-background-color: rgb(169, 169, 169); --silk-tooltip-background-color: rgb(255, 255, 255); --silk-tooltip-color: rgb(0, 0, 0); --silk-link-default-color: rgb(0, 255, 255); --silk-link-visited-color: rgb(0, 255, 255); }.silk-disabled { opacity: 0.5; cursor: not-allowed; }.silk-smooth-color { transition: background-color var(--silk-smooth-color-transition-duration, var(--silk-transition-duration-normal, 200ms)); }.silk-button { color: var(--silk-button-color, var(--silk-color)); background-color: var(--silk-button-background-default-color); line-height: 1.2; height: var(--silk-button-height); min-width: var(--silk-button-height); font-size: var(--silk-button-font-size); font-weight: 600; white-space: nowrap; padding: 0px var(--silk-button-padding-horizontal); vertical-align: middle; border-radius: 0.375rem; border-width: 0px; user-select: none; transition: background-color var(--silk-button-color-transition-duration, var(--silk-transition-duration-normal, 200ms)); }.silk-button:hover:not([aria-disabled="true"]) { background-color: var(--silk-button-background-hover-color); cursor: pointer; }.silk-button:focus-visible:not([aria-disabled="true"]) { outline: rgba(0, 0, 0, 0) solid 2px; box-shadow: 0px 0px 0 0.1875rem var(--silk-button-background-focus-color, var(--silk-focus-outline-color)); }.silk-button:active:not([aria-disabled="true"]) { background-color: var(--silk-button-background-pressed-color); }.silk-checkbox { gap: var(--silk-checkbox-spacing, 0.5rem); user-select: none; font-size: var(--silk-checkbox-font-size); cursor: pointer; }.silk-checkbox-icon-container { font-size: var(--silk-checkbox-icon-size); width: var(--silk-checkbox-size); height: var(--silk-checkbox-size); border: var(--silk-checkbox-border-width, 0.125rem) solid var(--silk-checkbox-border-color, var(--silk-border-color)); border-radius: var(--silk-checkbox-border-radius, 0.125rem); transition: background-color var(--silk-checkbox-transition-duration, var(--silk-transition-duration-very-fast, 100ms)), border-color var(--silk-checkbox-transition-duration, var(--silk-transition-duration-very-fast, 100ms)); }.silk-checkbox-icon { width: var(--silk-checkbox-size); height: var(--silk-checkbox-size); color: var(--silk-checkbox-icon-color); }.silk-overlay { background-color: var(--silk-overlay-background-color); }.silk-popup { transition: opacity var(--silk-popup-transition-duration, var(--silk-transition-duration-fast, 150ms)); }.silk-simple-grid { display: grid; }@media (min-width: 0px) {  .silk-simple-grid { grid-template-columns: repeat(var(--silk-simple-grid-col-count-zero), 1fr); }}@media (min-width: 30rem) {  .silk-simple-grid { grid-template-columns: repeat(var(--silk-simple-grid-col-count-sm), 1fr); }}@media (min-width: 48rem) {  .silk-simple-grid { grid-template-columns: repeat(var(--silk-simple-grid-col-count-md), 1fr); }}@media (min-width: 62rem) {  .silk-simple-grid { grid-template-columns: repeat(var(--silk-simple-grid-col-count-lg), 1fr); }}@media (min-width: 80rem) {  .silk-simple-grid { grid-template-columns: repeat(var(--silk-simple-grid-col-count-xl), 1fr); }}.silk-surface { background-color: var(--silk-surface-background-color, var(--silk-background-color)); color: var(--silk-surface-color, var(--silk-color)); }.silk-horizontal-divider { border-top: 1px solid var(--silk-divider-color, var(--silk-border-color)); width: 100%; }.silk-vertical-divider { border-left: 1px solid var(--silk-divider-color, var(--silk-border-color)); height: var(--silk-divider-length, 90%); }.silk-switch-track { position: relative; width: var(--silk-switch-track-width); min-width: var(--silk-switch-track-width); height: var(--silk-switch-track-height); min-height: var(--silk-switch-track-height); padding: var(--silk-switch-track-padding); border-radius: var(--silk-switch-border-radius, 9999px); background-color: var(--silk-switch-track-background-color); transition: background-color var(--silk-switch-transition-duration, var(--silk-transition-duration-fast, 150ms)); box-sizing: content-box; }.silk-switch-track:hover:not([aria-disabled="true"]) { cursor: pointer; }.silk-switch-thumb { width: var(--silk-switch-track-height); height: var(--silk-switch-track-height); border-radius: var(--silk-switch-border-radius, 9999px); background-color: var(--silk-switch-thumb-color); translate: var(--silk-switch-thumb-offset); transition: translate var(--silk-switch-transition-duration, var(--silk-transition-duration-fast, 150ms)); }.silk-tabs-tab-row { width: 100%; border-bottom: var(--silk-tab-border-thickness, 2px) solid var(--silk-tab-border-color, var(--silk-border-color)); }.silk-tabs-tab { cursor: pointer; transition: background-color var(--silk-tab-color-transition-duration, var(--silk-transition-duration-normal, 200ms)), color var(--silk-tab-color-transition-duration, var(--silk-transition-duration-normal, 200ms)), border-color var(--silk-tab-color-transition-duration, var(--silk-transition-duration-normal, 200ms)); background-color: var(--silk-tab-background-color); color: var(--silk-tab-color); user-select: none; padding: 0.5rem; margin: 0px 0px calc(-1 * var(--silk-tab-border-thickness, 2px)); border-bottom: var(--silk-tab-border-thickness, 2px) solid var(--silk-tab-border-color, var(--silk-border-color)); }.silk-tabs-tab[aria-disabled="true"] { background-color: var(--silk-tab-disabled-background-color); cursor: not-allowed; }.silk-tabs-tab:hover:not([aria-disabled="true"]) { background-color: var(--silk-tab-hover-background-color); }.silk-tabs-tab:active:not([aria-disabled="true"]) { background-color: var(--silk-tab-pressed-background-color); }.silk-tabs-panel { padding: 1rem; width: 100%; flex-grow: 1; overflow-y: auto; }.silk-input { appearance: none; color: var(--silk-color); height: var(--silk-input-height); font-size: var(--silk-input-font-size); background-color: rgba(0, 0, 0, 0); outline: rgba(0, 0, 0, 0) solid 0px; border: 0px solid rgba(0, 0, 0, 0); transition: border-color var(--silk-input-color-transition-duration, var(--silk-transition-duration-normal, 200ms)), box-shadow var(--silk-input-color-transition-duration, var(--silk-transition-duration-normal, 200ms)), background-color var(--silk-input-color-transition-duration, var(--silk-transition-duration-normal, 200ms)); }.silk-input::placeholder { opacity: var(--silk-input-placeholder-opacity, var(--silk-placeholder-opacity, 1)); color: var(--silk-input-placeholder-color, var(--silk-placeholder-color)); }.silk-input-group { outline: rgba(0, 0, 0, 0) solid 0px; border: 0px solid rgba(0, 0, 0, 0); border-radius: var(--silk-input-border-radius); font-size: var(--silk-input-font-size); }.silk-tooltip-arrow { position: absolute; border-width: 5px; border-style: solid; }.silk-tooltip { position: relative; background-color: var(--silk-tooltip-background-color); color: var(--silk-tooltip-color); border-radius: 6px; }.tooltip-text { padding: 5px; }.silk-link { text-decoration-line: none; }.silk-link:link { color: var(--silk-link-default-color); }.silk-link:visited { color: var(--silk-link-visited-color); }.silk-link:hover { text-decoration-line: underline; }.silk-toc { list-style-type: none; text-align: start; padding: 0rem; }.markdown h1 { font-size: 2rem; font-weight: 300; margin: 0px 0px 1.5rem; line-height: 1.2; }.markdown h2 { font-size: 2rem; font-weight: 300; margin: 1rem 0px; }.markdown h3 { font-size: 1.4rem; font-weight: 300; margin: 1.5rem 0px; }.markdown h4 { font-size: 1.2rem; font-weight: bolder; margin: 1rem 0px 0.5rem; }.markdown ul { width: 100%; overflow-wrap: break-word; }.markdown li, ol, ul { margin: 0px 0px 0.25rem; }.markdown_light code { color: rgba(0, 0, 0, 0.8); font-weight: bolder; }.markdown_dark code { color: rgba(255, 255, 255, 0.8); font-weight: bolder; }.markdown pre { margin: 0.5rem 0px 2rem; width: 100%; }.markdown pre > code { display: block; width: 100%; background-color: rgb(55, 54, 65); border-radius: 0.25rem; padding: 0.5rem; font-size: 1rem; overflow-x: auto; }.markdown img { display: block; width: 100%; border-radius: 0.25rem; padding: 0.5rem; font-size: 1rem; }.page-content { width: 100%; height: 100%; }@media (min-width: 48rem) {  .page-content { max-width: 40rem; }}.footer_light { margin: 2rem 0px 0px; border-top: 1px solid rgb(189, 190, 178); padding: 1rem 4rem; font-size: 0.8rem; font-family: monospace; }.footer_dark { margin: 2rem 0px 0px; border-top: 1px solid rgb(66, 65, 77); padding: 1rem 4rem; font-size: 0.8rem; font-family: monospace; }.bs-copyright { opacity: 0.6; font-size: 0.8rem; }.p-secondary_light { margin: 0px; font-size: 14px; color: rgb(147, 138, 130); }.p-secondary_dark { margin: 0px; font-size: 14px; color: rgb(108, 117, 125); }.fa-icon { color: rgb(108, 117, 125); font-size: 14px; }.fa-icon:hover { color: rgb(255, 255, 255); }.badge-p_light { font-size: 0.7rem; color: rgb(212, 213, 204); font-weight: bold; width: 100%; max-width: 450px; min-width: 80px; margin: 0px; padding: 0px; text-align: center; }.badge-p_dark { font-size: 0.7rem; color: rgb(43, 42, 51); font-weight: bold; width: 100%; max-width: 450px; min-width: 80px; margin: 0px; padding: 0px; text-align: center; }.bs-code-block { max-width: 90vw; width: 100%; }@media (min-width: 48rem) {  .bs-code-block { max-width: 100%; }}.bs-code_light { color: rgb(51, 51, 51); overflow-wrap: break-word; }.bs-code_dark { color: rgb(204, 204, 204); overflow-wrap: break-word; }.round-border-image_light { clip-path: circle(50% at 50% 50%); object-fit: cover; border: 5px solid rgb(189, 190, 178); border-radius: 50%; }.round-border-image_dark { clip-path: circle(50% at 50% 50%); object-fit: cover; border: 5px solid rgb(66, 65, 77); border-radius: 50%; }.round-border-image_light:hover { border: 5px solid rgb(132, 133, 124); }.round-border-image_dark:hover { border: 5px solid rgb(123, 122, 131); }.blog-post-entry { font-size: 1rem; margin: 0px; line-height: 1.2; width: 100%; padding: 0px 15px 0px 0px; text-align: right; }.blog-post-row_light { background-color: rgb(212, 213, 204); border-radius: 0.25rem; width: 100%; padding: 5px; }.blog-post-row_dark { background-color: rgb(43, 42, 51); border-radius: 0.25rem; width: 100%; padding: 5px; }.blog-post-row_light:hover { background-color: rgb(189, 190, 178); }.blog-post-row_dark:hover { background-color: rgb(66, 65, 77); }@media not all and (min-width: 0px) {  .silk-display-if-at-least-zero { display: none !important; }}@media not all and (min-width: 30rem) {  .silk-display-if-at-least-sm { display: none !important; }}@media not all and (min-width: 48rem) {  .silk-display-if-at-least-md { display: none !important; }}@media not all and (min-width: 62rem) {  .silk-display-if-at-least-lg { display: none !important; }}@media not all and (min-width: 80rem) {  .silk-display-if-at-least-xl { display: none !important; }}@media (min-width: 0px) {  .silk-display-until-zero { display: none !important; }}@media (min-width: 30rem) {  .silk-display-until-sm { display: none !important; }}@media (min-width: 48rem) {  .silk-display-until-md { display: none !important; }}@media (min-width: 62rem) {  .silk-display-until-lg { display: none !important; }}@media (min-width: 80rem) {  .silk-display-until-xl { display: none !important; }}.silk-input.silk-input-checkbox { border: 0px; width: 1px; height: 1px; margin: -1px; padding: 0px; clip-path: inset(50%); overflow: hidden; white-space: nowrap; position: absolute; }.silk-input.silk-input-checkbox:focus-visible + * { box-shadow: 0px 0px 0 var(--silk-checkbox-focus-outline-spread, 0.1875rem) var(--silk-checkbox-focus-outline-color, var(--silk-focus-outline-color)); }.silk-input.silk-input-checkbox:not([aria-disabled]):hover + * { --silk-checkbox-icon-background-color: var(--silk-checkbox-icon-background-hover-color); }.silk-checkbox-icon-container.silk-checkbox-icon-container-checked { background-color: var(--silk-checkbox-icon-background-color); border-color: var(--silk-checkbox-icon-background-color); }.silk-checkbox-icon-container.silk-checkbox-icon-container-unchecked { background-color: var(--silk-checkbox-unchecked-background-color); }.silk-input.silk-input-switch { border: 0px; width: 1px; height: 1px; margin: -1px; padding: 0px; clip-path: inset(50%); overflow: hidden; white-space: nowrap; position: absolute; }.silk-input.silk-input-switch:focus-visible + * { box-shadow: 0px 0px 0 0.1875rem var(--silk-switch-focus-color, var(--silk-focus-outline-color)); }.silk-input.silk-input-outlined { padding-inline: var(--silk-input-padding) var(--silk-input-padding); border-radius: var(--silk-input-border-radius); border: 1px solid var(--silk-input-border-color, var(--silk-border-color)); }.silk-input.silk-input-outlined[aria-invalid="true"] { border: 1px solid var(--silk-input-border-invalid-color); box-shadow: 0px 0px 0 1px var(--silk-input-border-invalid-color); }.silk-input.silk-input-outlined:hover:not(:disabled) { border-color: var(--silk-input-border-hover-color); }.silk-input.silk-input-outlined:focus-visible:not(:disabled) { border: 1px solid var(--silk-input-border-focus-color, var(--silk-focus-outline-color)); box-shadow: 0px 0px 0 1px var(--silk-input-border-focus-color, var(--silk-focus-outline-color)); }.silk-input.silk-input-filled { padding-inline: var(--silk-input-padding) var(--silk-input-padding); background-color: var(--silk-input-filled-color); border-radius: var(--silk-input-border-radius); border: 1px solid rgba(0, 0, 0, 0); }.silk-input.silk-input-filled:hover:not(:disabled) { background-color: var(--silk-input-filled-hover-color); }.silk-input.silk-input-filled[aria-invalid="true"] { border-color: var(--silk-input-border-invalid-color); box-shadow: 0px 0px 0 1px var(--silk-input-border-invalid-color); }.silk-input.silk-input-filled:focus-visible:not(:disabled) { background-color: var(--silk-input-filled-focus-color); border-color: var(--silk-input-border-focus-color, var(--silk-focus-outline-color)); box-shadow: 0px 0px 0 1px var(--silk-input-border-focus-color, var(--silk-focus-outline-color)); }.silk-input.silk-input-flushed { border-bottom: 1px solid var(--silk-input-border-color, var(--silk-border-color)); }.silk-input.silk-input-flushed[aria-invalid="true"] { border-color: var(--silk-input-border-invalid-color); box-shadow: 0px 1px var(--silk-input-border-invalid-color); }.silk-input.silk-input-flushed:hover:not(:disabled) { border-color: var(--silk-input-border-hover-color); }.silk-input.silk-input-flushed:focus-visible:not(:disabled) { border-color: var(--silk-input-border-focus-color, var(--silk-focus-outline-color)); box-shadow: 0px 1px var(--silk-input-border-focus-color, var(--silk-focus-outline-color)); }.silk-tooltip-arrow.silk-tooltip-arrow-top-left { margin: -9px 0px 0px 9px; top: 0px; border-color: transparent transparent var(--silk-tooltip-background-color) transparent; }.silk-tooltip-arrow.silk-tooltip-arrow-top { margin: -9px 0px 0px -5px; left: 50%; top: 0px; border-color: transparent transparent var(--silk-tooltip-background-color) transparent; }.silk-tooltip-arrow.silk-tooltip-arrow-top-right { margin: -9px 9px 0px 0px; right: 0px; top: 0px; border-color: transparent transparent var(--silk-tooltip-background-color) transparent; }.silk-tooltip-arrow.silk-tooltip-arrow-left-top { margin: 9px 0px 0px -9px; left: 0px; top: 0px; border-color: transparent var(--silk-tooltip-background-color) transparent transparent; }.silk-tooltip-arrow.silk-tooltip-arrow-left { margin: -5px 0px 0px -9px; left: 0px; top: 50%; border-color: transparent var(--silk-tooltip-background-color) transparent transparent; }.silk-tooltip-arrow.silk-tooltip-arrow-left-bottom { margin: 0px 0px 9px -9px; left: 0px; bottom: 0px; border-color: transparent var(--silk-tooltip-background-color) transparent transparent; }.silk-tooltip-arrow.silk-tooltip-arrow-right-top { margin: 9px -9px 0px 0px; right: 0px; top: 0px; border-color: transparent transparent transparent var(--silk-tooltip-background-color); }.silk-tooltip-arrow.silk-tooltip-arrow-right { margin: -5px -9px 0px 0px; right: 0px; top: 50%; border-color: transparent transparent transparent var(--silk-tooltip-background-color); }.silk-tooltip-arrow.silk-tooltip-arrow-right-bottom { margin: 0px -9px 9px 0px; right: 0px; bottom: 0px; border-color: transparent transparent transparent var(--silk-tooltip-background-color); }.silk-tooltip-arrow.silk-tooltip-arrow-bottom-left { margin: 0px 0px -9px 9px; left: 0px; bottom: 0px; border-color: var(--silk-tooltip-background-color) transparent transparent transparent; }.silk-tooltip-arrow.silk-tooltip-arrow-bottom { margin: 0px 0px -9px -5px; left: 50%; bottom: 0px; border-color: var(--silk-tooltip-background-color) transparent transparent transparent; }.silk-tooltip-arrow.silk-tooltip-arrow-bottom-right { margin: 0px 9px -9px 0px; right: 0px; bottom: 0px; border-color: var(--silk-tooltip-background-color) transparent transparent transparent; }.silk-image.silk-image-fit-width { width: 100%; object-fit: scale-down; }.silk-link.silk-link-uncolored:link { color: var(--silk-color); }.silk-link.silk-link-uncolored:visited { color: var(--silk-color); }.silk-link.silk-link-undecorated:hover { text-decoration-line: none; }.silk-link.silk-link-always-underlined { text-decoration-line: underline; }.silk-toc.silk-toc-bordered { border-radius: 5px; border: 1px solid var(--silk-toc-border-color, var(--silk-border-color)); padding: 1rem; }</style>
   <div class="silk-surface silk-smooth-color kobweb-box kobweb-align-top-start" style="min-height: 100vh; scroll-behavior: smooth;">
    <div class="kobweb-box kobweb-align-center" style="width: 100%; min-height: 100%; grid-template-rows: 1fr min-content;">
     <div class="kobweb-col kobweb-arrange-top kobweb-align-center-horiz" style="width: 100%; height: 100%; grid-row: 1 / 2;">
      <div class="kobweb-col kobweb-arrange-center kobweb-align-start" style="padding: 20px;">
       <div class="kobweb-row kobweb-arrange-start kobweb-align-center-vert" style="padding: 0px;">
        <div>
         <a href="/"><img class="silk-image round-border-image round-border-image_dark" style="width: 120px; height: 120px;" src="/profile.png" alt=""></a>
        </div>
        <div class="kobweb-col kobweb-arrange-top kobweb-align-start" style="padding: 10px;">
         <h1>Kalle Strålman ☢️</h1>
         <p class="p-secondary p-secondary_dark">A tech hobbyist's guide to the galaxy.</p>
         <div class="kobweb-row kobweb-arrange-space-between kobweb-align-top" style="width: 75px; padding: 5px 0px;">
          <a class="silk-link" style="font-size: 14px;" href="/about/">About</a><a class="silk-link" style="font-size: 14px;" href="/tags/">Tags</a>
         </div>
         <div class="kobweb-row kobweb-arrange-space-between kobweb-align-top" style="width: 75px;">
          <a href="https://github.com/kjeller"><span class="fa-icon fab fa-github"></span></a><a href="https://www.linkedin.com/in/karl-str%C3%A5lman-422b6b173/"><span class="fa-icon fab fa-linkedin"></span></a><a href="index.xml"><span class="fa-icon fas fa-rss"></span></a>
         </div>
        </div>
       </div>
      </div>
      <div class="page-content kobweb-col kobweb-arrange-top kobweb-align-center-horiz">
       <div class="markdown markdown_dark kobweb-col kobweb-arrange-top kobweb-align-start" style="max-width: 40vw;">
        <div class="kobweb-col kobweb-arrange-top kobweb-align-start">
         <div class="kobweb-row kobweb-arrange-start kobweb-align-top">
          <span style="margin: 0px 15px 0px 0px; border-radius: 0.25rem; padding: 2px; background-color: white;">
           <p class="badge-p badge-p_dark">Created: 2023-01-07</p></span><span style="margin: 0px 15px 0px 0px; border-radius: 0.25rem; padding: 2px; background-color: white;">
           <p class="badge-p badge-p_dark"><a class="silk-link badge-text" href="https://github.com/kjeller/stralman.dev//tree/kobweb-wip/site/src/jsMain/resources/markdown/posts/mount_with_rclone.md">Edit on Github</a></p></span>
         </div>
        </div>
        <p>So I recently came across an awesome tool called rclone. rclone is a command-line tool with many features for managing cloud storage - even so that people refer to it as <a class="silk-link" href="https://rclone.org/">the swiss army knife of cloud storage</a>.</p>
        <p>This post will focus on how to configure remotes and how to mount them. I wrote this mostly as a future reference for myself but also to show a fraction of rclone's capabilities and why others might find it useful.</p>
        <p>Configuring a rclone remote is straightforward - basically, just use <code class="bs-code bs-code_dark">rclone config</code> and follow its interactive setup guide. Enabling it to mount automatically was a bit more involved but not too advanced.</p>
        <ul>
         <li><a class="silk-link" href="#configure-a-rclone-remote">Configure a rclone remote - dropbox remote example</a></li>
         <li><a class="silk-link" href="#mount-a-remote-at-every-boot">Configure remote to mount on boot</a></li>
        </ul>
        <h1 id="configure-a-rclone-remote">Configure a rclone remote</h1>
        <p><b>Prerequisite:</b> <a class="silk-link" href="https://rclone.org/install/">install rclone</a></p>
        <p>My dropbox remote configuration prompts differed slightly from what was stated in <a class="silk-link" href="https://rclone.org/dropbox/">the documentation</a> which is mainly the reason why I felt like I had to include this section:</p>
        <pre class="bs-code-block"><code class="language-bash hljs" data-highlighted="yes">$ rclone config
No remotes found - make a new one
n) New remote
s) Set configuration password
q) Quit config

<span class="hljs-comment"># 'n' for new remote</span>
n/s/q&gt;n

<span class="hljs-comment"># What I chose to name my remote</span>
name&gt;dropbox-remote
Type of storage to configure.                          
Enter a string value. Press Enter <span class="hljs-keyword">for</span> the default (<span class="hljs-string">""</span>).
Choose a number from below, or <span class="hljs-built_in">type</span> <span class="hljs-keyword">in</span> your own value  
...
 9 / Dropbox    
   \ <span class="hljs-string">"dropbox"</span>  
...

<span class="hljs-comment"># Select '9' for Dropbox remote backend</span>
Storage&gt;9
** See <span class="hljs-built_in">help</span> <span class="hljs-keyword">for</span> dropbox backend at: https://rclone.org/dropbox/ **

Dropbox App Client Id
Leave blank normally.
Enter a string value. Press Enter <span class="hljs-keyword">for</span> the default (<span class="hljs-string">""</span>).

<span class="hljs-comment"># Here I entered blank</span>
client_id&gt;
Dropbox App Client Secret
Leave blank normally.
Enter a string value. Press Enter <span class="hljs-keyword">for</span> the default (<span class="hljs-string">""</span>).

<span class="hljs-comment"># Here I entered blank</span>
client_secret&gt;
Edit advanced config? (y/n)
y) Yes
n) No

<span class="hljs-comment"># 'n' for no</span>
y/n&gt;n
Remote config
Use auto config?
 * Say Y <span class="hljs-keyword">if</span> not sure
 * Say N <span class="hljs-keyword">if</span> you are working on a remote or headless machine
y) Yes
n) No

<span class="hljs-comment"># 'y' for auto config</span>
y/n&gt;y
<span class="hljs-comment"># And then I had to authenticate using a dropbox token - and that was it!</span>
</code></pre>
        <p>Now I was able to list my dropbox directions using <code class="bs-code bs-code_dark">rclone lsd dropbox-remote:</code></p>
        <h1 id="mount-a-remote-at-every-boot">Mount a remote at every boot</h1>
        <p><b>Prerequisite:</b> <a class="silk-link" href="https://rclone.org/install/">install rclone</a> &amp; configure a remote e.g. <a class="silk-link" href="#configure-a-rclone-remote">dropbox</a></p>
        <p>One alternative to mounting a remote automatically is by using a templated user systemd service, <a class="silk-link" href="https://github.com/rclone/rclone/wiki/Systemd-rclone-mount#systemd">found here</a>. The last edit date on this wiki page is October 6 2022 at the time of writing make sure you are using the latest version.</p>
        <ol>
         <li>Create a service file</li>
        </ol>
        <ul>
         <li>Save the following content to this file: <code class="bs-code bs-code_dark">/etc/systemd/user/rclone@.service</code></li>
        </ul>
        <pre class="bs-code-block"><code class="language-service">[Unit]
Description=RClone mount of users remote %i using filesystem permissions
Documentation=http://rclone.org/docs/
After=network-online.target


[Service]
Type=notify
#Set up environment
Environment=REMOTE_NAME="%i"
Environment=REMOTE_PATH="/"
Environment=MOUNT_DIR="%h/%i"
Environment=POST_MOUNT_SCRIPT=""
Environment=RCLONE_CONF="%h/.config/rclone/rclone.conf"
Environment=RCLONE_TEMP_DIR="/tmp/rclone/%u/%i"
Environment=RCLONE_RC_ON="false"

#Default arguments for rclone mount. Can be overridden in the environment file
Environment=RCLONE_MOUNT_ATTR_TIMEOUT="1s"
#TODO: figure out default for the following parameter
Environment=RCLONE_MOUNT_DAEMON_TIMEOUT="UNKNOWN_DEFAULT"
Environment=RCLONE_MOUNT_DIR_CACHE_TIME="60m"
Environment=RCLONE_MOUNT_DIR_PERMS="0777"
Environment=RCLONE_MOUNT_FILE_PERMS="0666"
Environment=RCLONE_MOUNT_GID="%G"
Environment=RCLONE_MOUNT_MAX_READ_AHEAD="128k"
Environment=RCLONE_MOUNT_POLL_INTERVAL="1m0s"
Environment=RCLONE_MOUNT_UID="%U"
Environment=RCLONE_MOUNT_UMASK="022"
Environment=RCLONE_MOUNT_VFS_CACHE_MAX_AGE="1h0m0s"
Environment=RCLONE_MOUNT_VFS_CACHE_MAX_SIZE="off"
Environment=RCLONE_MOUNT_VFS_CACHE_MODE="off"
Environment=RCLONE_MOUNT_VFS_CACHE_POLL_INTERVAL="1m0s"
Environment=RCLONE_MOUNT_VFS_READ_CHUNK_SIZE="128M"
Environment=RCLONE_MOUNT_VFS_READ_CHUNK_SIZE_LIMIT="off"
#TODO: figure out default for the following parameter
Environment=RCLONE_MOUNT_VOLNAME="UNKNOWN_DEFAULT"

#Overwrite default environment settings with settings from the file if present
EnvironmentFile=-%h/.config/rclone/%i.env

#Check that rclone is installed
ExecStartPre=/usr/bin/test -x /usr/bin/rclone

#Check the mount directory
ExecStartPre=/usr/bin/test -d "${MOUNT_DIR}"
ExecStartPre=/usr/bin/test -w "${MOUNT_DIR}"
#TODO: Add test for MOUNT_DIR being empty -&gt; ExecStartPre=/usr/bin/test -z "$(ls -A "${MOUNT_DIR}")"

#Check the rclone configuration file
ExecStartPre=/usr/bin/test -f "${RCLONE_CONF}"
ExecStartPre=/usr/bin/test -r "${RCLONE_CONF}"
#TODO: add test that the remote is configured for the rclone configuration

#Mount rclone fs
ExecStart=/usr/bin/rclone mount \
            --config="${RCLONE_CONF}" \
#See additional items for access control below for information about the following 2 flags
#            --allow-other \
#            --default-permissions \
            --rc="${RCLONE_RC_ON}" \
            --cache-tmp-upload-path="${RCLONE_TEMP_DIR}/upload" \
            --cache-chunk-path="${RCLONE_TEMP_DIR}/chunks" \
            --cache-workers=8 \
            --cache-writes \
            --cache-dir="${RCLONE_TEMP_DIR}/vfs" \
            --cache-db-path="${RCLONE_TEMP_DIR}/db" \
            --no-modtime \
            --drive-use-trash \
            --stats=0 \
            --checkers=16 \
            --bwlimit=40M \
            --cache-info-age=60m \
            --attr-timeout="${RCLONE_MOUNT_ATTR_TIMEOUT}" \
#TODO: Include this once a proper default value is determined
#           --daemon-timeout="${RCLONE_MOUNT_DAEMON_TIMEOUT}" \
            --dir-cache-time="${RCLONE_MOUNT_DIR_CACHE_TIME}" \
            --dir-perms="${RCLONE_MOUNT_DIR_PERMS}" \
            --file-perms="${RCLONE_MOUNT_FILE_PERMS}" \
            --gid="${RCLONE_MOUNT_GID}" \
            --max-read-ahead="${RCLONE_MOUNT_MAX_READ_AHEAD}" \
            --poll-interval="${RCLONE_MOUNT_POLL_INTERVAL}" \
            --uid="${RCLONE_MOUNT_UID}" \
            --umask="${RCLONE_MOUNT_UMASK}" \
            --vfs-cache-max-age="${RCLONE_MOUNT_VFS_CACHE_MAX_AGE}" \
            --vfs-cache-max-size="${RCLONE_MOUNT_VFS_CACHE_MAX_SIZE}" \
            --vfs-cache-mode="${RCLONE_MOUNT_VFS_CACHE_MODE}" \
            --vfs-cache-poll-interval="${RCLONE_MOUNT_VFS_CACHE_POLL_INTERVAL}" \
            --vfs-read-chunk-size="${RCLONE_MOUNT_VFS_READ_CHUNK_SIZE}" \
            --vfs-read-chunk-size-limit="${RCLONE_MOUNT_VFS_READ_CHUNK_SIZE_LIMIT}" \
#TODO: Include this once a proper default value is determined
#            --volname="${RCLONE_MOUNT_VOLNAME}"
            "${REMOTE_NAME}:${REMOTE_PATH}" "${MOUNT_DIR}"

#Execute Post Mount Script if specified
ExecStartPost=/bin/sh -c "${POST_MOUNT_SCRIPT}"

#Unmount rclone fs
ExecStop=/bin/fusermount -u "${MOUNT_DIR}"

#Restart info
Restart=always
RestartSec=10

[Install]
WantedBy=default.target

</code></pre>
        <ol>
         <li>
          <p>Tell systemd to look for new files. <code class="bs-code bs-code_dark">systemctl --user daemon-reload</code></p></li>
         <li>
          <p>(Optional step) configure a custom mount point. The default mount directory is <code class="bs-code bs-code_dark">~/&lt;REMOTE NAME&gt;</code> if you are ok with that skip this step.</p></li>
        </ol>
        <ul>
         <li>Create an env file: <code class="bs-code bs-code_dark">touch ~/.config/rclone/&lt;REMOTE NAME&gt;.env</code>. For me this file is <code class="bs-code bs-code_dark">~/.config/rclone/dropbox-remote.env</code></li>
         <li>Set the env variable <em>MOUNT_DIR</em> to whatever mounting directory you want. This directory must exist in the filesystem. For example I want dropbox-remote to moount in /mnt so I set <code class="bs-code bs-code_dark">MOUNT_DIR=/mnt/dropbox-remote</code>. Then create that folder e.g. <code class="bs-code bs-code_dark">sudo mkdir /mnt/dropbox-remote &amp;&amp; sudo chown $USER /mnt/dropbox-remote</code></li>
        </ul>
        <ol>
         <li>Start the templated systemd user service for a specific remote.</li>
        </ol>
        <p><code class="bs-code bs-code_dark">systemctl --user enable rclone@&lt;REMOTE NAME&gt;</code> <code class="bs-code bs-code_dark">systemctl --user start rclone@&lt;REMOTE NAME&gt;</code></p>
        <p>e.g. for my dropbox this was: <code class="bs-code bs-code_dark">systemctl --user enable rclone@dropbox-remote</code> <code class="bs-code bs-code_dark">systemctl --user start rclone@dropbox-remote</code></p>
        <p>Now your remote should mount for every reboot.</p>
        <h1 id="checking-out-vfs-cache-modes">Checking out VFS cache modes</h1>
        <p><em>Edit: Jan 8, 2022</em></p>
        <p>The default VFS cache mode <code class="bs-code bs-code_dark">Environment=RCLONE_MOUNT_VFS_CACHE_MODE="off"</code> or <code class="bs-code bs-code_dark">--vfs-cache-mode off</code> which it evaluates to prevent my password manager from opening my database file from the remote mount directory for both read and write. I get the following error log from doing this: <code class="bs-code bs-code_dark">WriteFileHandle: Can't open for write without O_TRUNC</code>.</p>
        <p>Changing the cache mode from <code class="bs-code bs-code_dark">--vfs-cache-mode off</code> to <code class="bs-code bs-code_dark">--vfs-cache-mode writes</code> should support all normal file operations (Source <a class="silk-link" href="https://rclone.org/commands/rclone_mount/#file-caching">here</a>).</p>
        <ol>
         <li>Restart service: <code class="bs-code bs-code_dark">systemctl --user restart rclone@&lt;REMOTE NAME&gt;</code></li>
         <li>Check that it was restarted correctly with correct cache mode: <code class="bs-code bs-code_dark">systemctl --user status rclone@&lt;REMOTE NAME&gt;</code></li>
        </ol>
       </div>
      </div>
     </div>
     <div class="footer footer_dark kobweb-box kobweb-align-center" style="grid-row: 2 / 3;">
      <span style="text-align: center;">
       <div class="kobweb-col kobweb-arrange-top kobweb-align-start">
        <div class="kobweb-row kobweb-arrange-start kobweb-align-top">
         <span style="white-space: pre-wrap; text-align: center;"><span class="silk-span-text" style="white-space: pre-wrap;">Powered by </span><a class="silk-link" style="color: rgb(0, 255, 255);" href="https://github.com/varabyte/kobweb">Kobweb</a><span class="silk-span-text" style="white-space: pre-wrap;">, site source </span><a class="silk-link" style="color: rgb(0, 255, 255); white-space: nowrap; font-family: monospace;" href="https://github.com/kjeller/stralman.dev/tree/kobweb-wip/">here</a></span>
        </div>
        <div class="kobweb-row kobweb-arrange-center kobweb-align-top" style="grid-row: 2 / 3; width: 100%;">
         <span class="silk-span-text" style="white-space: pre-wrap;">Inspired by Hugo theme </span><a class="silk-link" style="color: rgb(0, 255, 255);" href="https://github.com/austingebauer/devise"> Devise</a>
        </div>
       </div>
       <div class="kobweb-row kobweb-arrange-center kobweb-align-top">
        <span class="silk-span-text bs-copyright">© 2023, Karl Strålman</span>
       </div></span>
     </div>
    </div>
   </div>
  </div>
  <script src="/stralman.js"></script>
 </body>
</html>