<!doctype html>
<html lang="en">
 <head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <title>Karl Strålman</title>
  <meta content="A tech hobbyist's guide to the galaxy." name="description">
  <link href="/favicon.ico" rel="icon">
  <meta content="width=device-width, initial-scale=1" name="viewport">
  <script src="/highlight.js/highlight.min.js"></script>
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/all.min.css" rel="stylesheet">
  <link type="text/css" rel="stylesheet" title="hljs-style" href="/highlight.js/styles/a11y-dark.min.css">
 </head>
 <body>
  <div id="root" style="width: 100%; height: 100%;" class="silk-colors_dark">
   <style>html, body { padding: 0px; margin: 0px; }* { box-sizing: border-box; }</style>
   <style>.kobweb-box { display: grid; grid-template-columns: minmax(0px, 1fr); grid-template-rows: minmax(0px, 1fr); }.kobweb-box > * { grid-area: 1 / 1; }.kobweb-box.kobweb-align-top-start { place-items: start; }.kobweb-box.kobweb-align-top-center { place-items: start center; }.kobweb-box.kobweb-align-top-end { place-items: start end; }.kobweb-box.kobweb-align-center-start { place-items: center start; }.kobweb-box.kobweb-align-center { place-items: center; }.kobweb-box.kobweb-align-center-end { place-items: center end; }.kobweb-box.kobweb-align-bottom-start { place-items: end start; }.kobweb-box.kobweb-align-bottom-center { place-items: end center; }.kobweb-box.kobweb-align-bottom-end { place-items: end; }.kobweb-box > .kobweb-align-top-start-self { place-self: start; }.kobweb-box > .kobweb-align-top-center-self { place-self: start center; }.kobweb-box > .kobweb-align-top-end-self { place-self: start end; }.kobweb-box > .kobweb-align-center-start-self { place-self: center start; }.kobweb-box > .kobweb-align-center-self { place-self: center; }.kobweb-box > .kobweb-align-center-end-self { place-self: center end; }.kobweb-box > .kobweb-align-bottom-start-self { place-self: end start; }.kobweb-box > .kobweb-align-bottom-center-self { place-self: end center; }.kobweb-box > .kobweb-align-bottom-end-self { place-self: end; }.kobweb-col { display: flex; flex-direction: column; }.kobweb-col.kobweb-arrange-top { justify-content: flex-start; }.kobweb-col.kobweb-arrange-center { justify-content: center; }.kobweb-col.kobweb-arrange-bottom { justify-content: flex-end; }.kobweb-col.kobweb-arrange-space-evenly { justify-content: space-evenly; }.kobweb-col.kobweb-arrange-space-between { justify-content: space-between; }.kobweb-col.kobweb-arrange-space-around { justify-content: space-around; }.kobweb-col.kobweb-align-start { align-items: flex-start; }.kobweb-col.kobweb-align-center-horiz { align-items: center; }.kobweb-col.kobweb-align-end { align-items: flex-end; }.kobweb-col > .kobweb-align-start-self { align-self: flex-start; }.kobweb-col > .kobweb-align-center-horiz-self { align-self: center; }.kobweb-col > .kobweb-align-end-self { align-self: flex-end; }.kobweb-row { display: flex; flex-direction: row; }.kobweb-row.kobweb-arrange-start { justify-content: flex-start; }.kobweb-row.kobweb-arrange-center { justify-content: center; }.kobweb-row.kobweb-arrange-end { justify-content: flex-end; }.kobweb-row.kobweb-arrange-space-evenly { justify-content: space-evenly; }.kobweb-row.kobweb-arrange-space-between { justify-content: space-between; }.kobweb-row.kobweb-arrange-space-around { justify-content: space-around; }.kobweb-row.kobweb-align-top { align-items: flex-start; }.kobweb-row.kobweb-align-center-vert { align-items: center; }.kobweb-row.kobweb-align-bottom { align-items: flex-end; }.kobweb-row > .kobweb-align-top-self { align-self: flex-start; }.kobweb-row > .kobweb-align-center-vert-self { align-self: center; }.kobweb-row > .kobweb-align-bottom-self { align-self: flex-end; }.kobweb-spacer { flex-grow: 1; }</style>
   <style>body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue", sans-serif; font-size: 18px; line-height: 1.5; }code.hljs { border-radius: 8px; }@keyframes silk-checkbox-enabled {   0% { opacity: 0; }  100% { opacity: 1; }}.silk-colors_light { --silk-background-color: rgb(250, 250, 250); --silk-color: rgb(0, 0, 0); --silk-border-color: rgba(0, 0, 0, 0.2); --silk-focus-outline-color: rgba(33, 150, 243, 0.4980392156862745); --silk-placeholder-color: rgb(158, 158, 158); --silk-button-background-default-color: rgb(204, 204, 204); --silk-button-background-hover-color: rgb(163, 163, 163); --silk-button-background-pressed-color: rgb(122, 122, 122); --silk-checkbox-icon-background-color: rgb(33, 150, 243); --silk-checkbox-icon-background-hover-color: rgb(30, 136, 229); --silk-checkbox-icon-color: rgb(255, 255, 255); --silk-input-border-hover-color: rgb(158, 158, 158); --silk-input-border-invalid-color: rgb(183, 28, 28); --silk-input-filled-color: rgb(238, 238, 238); --silk-input-filled-hover-color: rgb(214, 214, 214); --silk-input-filled-focus-color: rgba(0, 0, 0, 0); --silk-overlay-background-color: rgba(0, 0, 0, 0.4980392156862745); --silk-switch-thumb-color: rgb(255, 255, 255); --silk-tab-color: rgb(0, 0, 0); --silk-tab-background-color: rgb(255, 255, 255); --silk-tab-disabled-background-color: rgb(255, 255, 255); --silk-tab-hover-background-color: rgb(211, 211, 211); --silk-tab-pressed-background-color: rgb(245, 245, 245); --silk-tooltip-background-color: rgb(0, 0, 0); --silk-tooltip-color: rgb(255, 255, 255); --silk-link-default-color: rgb(0, 0, 255); --silk-link-visited-color: rgb(128, 0, 128); }.silk-colors_dark { --silk-background-color: rgb(43, 42, 51); --silk-color: rgb(255, 255, 255); --silk-border-color: rgba(255, 255, 255, 0.2); --silk-focus-outline-color: rgba(33, 150, 243, 0.4980392156862745); --silk-placeholder-color: rgb(158, 158, 158); --silk-button-background-default-color: rgb(51, 51, 51); --silk-button-background-hover-color: rgb(92, 92, 92); --silk-button-background-pressed-color: rgb(133, 133, 133); --silk-checkbox-icon-background-color: rgb(144, 202, 249); --silk-checkbox-icon-background-hover-color: rgb(100, 181, 246); --silk-checkbox-icon-color: rgb(0, 0, 0); --silk-input-border-hover-color: rgb(117, 117, 117); --silk-input-border-invalid-color: rgb(229, 115, 115); --silk-input-filled-color: rgb(33, 33, 33); --silk-input-filled-hover-color: rgb(56, 56, 56); --silk-input-filled-focus-color: rgba(0, 0, 0, 0); --silk-overlay-background-color: rgba(255, 255, 255, 0.4980392156862745); --silk-switch-thumb-color: rgb(255, 255, 255); --silk-tab-color: rgb(255, 255, 255); --silk-tab-background-color: rgb(0, 0, 0); --silk-tab-disabled-background-color: rgb(0, 0, 0); --silk-tab-hover-background-color: rgb(47, 79, 79); --silk-tab-pressed-background-color: rgb(169, 169, 169); --silk-tooltip-background-color: rgb(255, 255, 255); --silk-tooltip-color: rgb(0, 0, 0); --silk-link-default-color: rgb(0, 255, 255); --silk-link-visited-color: rgb(238, 130, 238); }.silk-disabled { opacity: 0.5; cursor: not-allowed; }.silk-smooth-color { transition: background-color var(--silk-smooth-color-transition-duration, var(--silk-transition-duration-normal, 200ms)); }.silk-button { color: var(--silk-button-color, var(--silk-color)); background-color: var(--silk-button-background-default-color); line-height: 1.2; height: var(--silk-button-height); min-width: var(--silk-button-height); font-size: var(--silk-button-font-size); font-weight: 600; white-space: nowrap; padding: 0px var(--silk-button-padding-horizontal); vertical-align: middle; border-radius: 0.375rem; border-width: 0px; user-select: none; transition: background-color var(--silk-button-color-transition-duration, var(--silk-transition-duration-normal, 200ms)); }.silk-button:hover:not([aria-disabled="true"]) { background-color: var(--silk-button-background-hover-color); cursor: pointer; }.silk-button:focus-visible:not([aria-disabled="true"]) { outline: rgba(0, 0, 0, 0) solid 2px; box-shadow: 0px 0px 0 0.1875rem var(--silk-button-background-focus-color, var(--silk-focus-outline-color)); }.silk-button:active:not([aria-disabled="true"]) { background-color: var(--silk-button-background-pressed-color); }.silk-checkbox { gap: var(--silk-checkbox-spacing, 0.5rem); user-select: none; font-size: var(--silk-checkbox-font-size); cursor: pointer; }.silk-checkbox-icon-container { font-size: var(--silk-checkbox-icon-size); width: var(--silk-checkbox-size); height: var(--silk-checkbox-size); border: var(--silk-checkbox-border-width, 0.125rem) solid var(--silk-checkbox-border-color, var(--silk-border-color)); border-radius: var(--silk-checkbox-border-radius, 0.125rem); transition: background-color var(--silk-checkbox-transition-duration, var(--silk-transition-duration-very-fast, 100ms)), border-color var(--silk-checkbox-transition-duration, var(--silk-transition-duration-very-fast, 100ms)); }.silk-checkbox-icon { width: var(--silk-checkbox-size); height: var(--silk-checkbox-size); color: var(--silk-checkbox-icon-color); }.silk-overlay { background-color: var(--silk-overlay-background-color); }.silk-popup { transition: opacity var(--silk-popup-transition-duration, var(--silk-transition-duration-fast, 150ms)); }.silk-simple-grid { display: grid; }@media (min-width: 0px) {  .silk-simple-grid { grid-template-columns: repeat(var(--silk-simple-grid-col-count-zero), 1fr); }}@media (min-width: 30rem) {  .silk-simple-grid { grid-template-columns: repeat(var(--silk-simple-grid-col-count-sm), 1fr); }}@media (min-width: 48rem) {  .silk-simple-grid { grid-template-columns: repeat(var(--silk-simple-grid-col-count-md), 1fr); }}@media (min-width: 62rem) {  .silk-simple-grid { grid-template-columns: repeat(var(--silk-simple-grid-col-count-lg), 1fr); }}@media (min-width: 80rem) {  .silk-simple-grid { grid-template-columns: repeat(var(--silk-simple-grid-col-count-xl), 1fr); }}.silk-surface { background-color: var(--silk-surface-background-color, var(--silk-background-color)); color: var(--silk-surface-color, var(--silk-color)); }.silk-horizontal-divider { border-top: 1px solid var(--silk-divider-color, var(--silk-border-color)); width: 100%; }.silk-vertical-divider { border-left: 1px solid var(--silk-divider-color, var(--silk-border-color)); height: var(--silk-divider-length, 90%); }.silk-switch-track { position: relative; width: var(--silk-switch-track-width); min-width: var(--silk-switch-track-width); height: var(--silk-switch-track-height); min-height: var(--silk-switch-track-height); padding: var(--silk-switch-track-padding); border-radius: var(--silk-switch-border-radius, 9999px); background-color: var(--silk-switch-track-background-color); transition: background-color var(--silk-switch-transition-duration, var(--silk-transition-duration-fast, 150ms)); box-sizing: content-box; }.silk-switch-track:hover:not([aria-disabled="true"]) { cursor: pointer; }.silk-switch-thumb { width: var(--silk-switch-track-height); height: var(--silk-switch-track-height); border-radius: var(--silk-switch-border-radius, 9999px); background-color: var(--silk-switch-thumb-color); translate: var(--silk-switch-thumb-offset); transition: translate var(--silk-switch-transition-duration, var(--silk-transition-duration-fast, 150ms)); }.silk-tabs-tab-row { width: 100%; border-bottom: var(--silk-tab-border-thickness, 2px) solid var(--silk-tab-border-color, var(--silk-border-color)); }.silk-tabs-tab { cursor: pointer; transition: background-color var(--silk-tab-color-transition-duration, var(--silk-transition-duration-normal, 200ms)), color var(--silk-tab-color-transition-duration, var(--silk-transition-duration-normal, 200ms)), border-color var(--silk-tab-color-transition-duration, var(--silk-transition-duration-normal, 200ms)); background-color: var(--silk-tab-background-color); color: var(--silk-tab-color); user-select: none; padding: 0.5rem; margin: 0px 0px calc(-1 * var(--silk-tab-border-thickness, 2px)); border-bottom: var(--silk-tab-border-thickness, 2px) solid var(--silk-tab-border-color, var(--silk-border-color)); }.silk-tabs-tab[aria-disabled="true"] { background-color: var(--silk-tab-disabled-background-color); cursor: not-allowed; }.silk-tabs-tab:hover:not([aria-disabled="true"]) { background-color: var(--silk-tab-hover-background-color); }.silk-tabs-tab:active:not([aria-disabled="true"]) { background-color: var(--silk-tab-pressed-background-color); }.silk-tabs-panel { padding: 1rem; width: 100%; flex-grow: 1; overflow-y: auto; }.silk-input { appearance: none; color: var(--silk-color); height: var(--silk-input-height); font-size: var(--silk-input-font-size); background-color: rgba(0, 0, 0, 0); outline: rgba(0, 0, 0, 0) solid 0px; border: 0px solid rgba(0, 0, 0, 0); transition: border-color var(--silk-input-color-transition-duration, var(--silk-transition-duration-normal, 200ms)), box-shadow var(--silk-input-color-transition-duration, var(--silk-transition-duration-normal, 200ms)), background-color var(--silk-input-color-transition-duration, var(--silk-transition-duration-normal, 200ms)); }.silk-input::placeholder { opacity: var(--silk-input-placeholder-opacity, var(--silk-placeholder-opacity, 1)); color: var(--silk-input-placeholder-color, var(--silk-placeholder-color)); }.silk-input-group { outline: rgba(0, 0, 0, 0) solid 0px; border: 0px solid rgba(0, 0, 0, 0); border-radius: var(--silk-input-border-radius); font-size: var(--silk-input-font-size); }.silk-tooltip-arrow { position: absolute; border-width: 5px; border-style: solid; }.silk-tooltip { position: relative; background-color: var(--silk-tooltip-background-color); color: var(--silk-tooltip-color); border-radius: 6px; }.tooltip-text { padding: 5px; }.silk-link { text-decoration-line: none; }.silk-link:link { color: var(--silk-link-default-color); }.silk-link:visited { color: var(--silk-link-visited-color); }.silk-link:hover { text-decoration-line: underline; }.silk-toc { list-style-type: none; text-align: start; padding: 0rem; }.headline-text { font-size: 2rem; text-align: start; margin: 0px 0px 5px; line-height: 1.2; }.p-text { font-size: 1rem; margin: 0px; line-height: 1.2; }.subheadline-text_light { font-size: 1rem; text-align: start; color: rgba(0, 0, 0, 0.8); }.subheadline-text_dark { font-size: 1rem; text-align: start; color: rgba(255, 255, 255, 0.8); }.link-style-markdown { background-color: rgb(108, 117, 125); }.link-style-markdown:hover { background-color: rgb(255, 255, 255); }.markdown h1 { font-size: 2rem; font-weight: 300; margin: 0px 0px 1.5rem; line-height: 1.2; }.markdown h2 { font-size: 2rem; font-weight: 300; margin: 1rem 0px; }.markdown h3 { font-size: 1.4rem; font-weight: 300; margin: 1.5rem 0px; }.markdown h4 { font-size: 1.2rem; font-weight: bolder; margin: 1rem 0px 0.5rem; }.markdown p { margin: 0px 0px 0.8rem; }.markdown ul { width: 100%; overflow-wrap: break-word; }.markdown li, ol, ul { margin: 0px 0px 0.25rem; }.markdown_light code { color: rgba(0, 0, 0, 0.8); font-weight: bolder; }.markdown_dark code { color: rgba(255, 255, 255, 0.8); font-weight: bolder; }.markdown pre { margin: 0.5rem 0px 2rem; width: 100%; }.markdown pre > code { display: block; width: 100%; background-color: rgb(55, 54, 65); border-radius: 0.25rem; padding: 0.5rem; font-size: 1rem; overflow-x: auto; }.markdown img { display: block; width: 100%; border-radius: 0.25rem; padding: 0.5rem; font-size: 1rem; }.page-content { width: 100%; height: 100%; }@media (min-width: 48rem) {  .page-content { max-width: 40rem; }}.fa-icon { color: rgb(108, 117, 125); }.fa-icon:hover { color: rgb(255, 255, 255); }.footer_light { margin: 2rem 0px 0px; border-top: 1px solid rgba(0, 0, 0, 0.2); padding: 1rem 4rem; font-size: 0.8rem; font-family: monospace; }.footer_dark { margin: 2rem 0px 0px; border-top: 1px solid rgba(255, 255, 255, 0.2); padding: 1rem 4rem; font-size: 0.8rem; font-family: monospace; }.bs-copyright { opacity: 0.6; font-size: 0.8rem; }.bs-code-block { max-width: 90vw; width: 100%; }@media (min-width: 48rem) {  .bs-code-block { max-width: 100%; }}.bs-code_light { color: rgb(51, 51, 51); overflow-wrap: break-word; }.bs-code_dark { color: rgb(204, 204, 204); overflow-wrap: break-word; }.round-border-image { clip-path: circle(50% at 50% 50%); align-content: center; object-fit: cover; border: 5px solid rgb(66, 65, 77); border-radius: 50%; }.round-border-image:hover { border: 5px solid rgb(108, 117, 125); }.blog-post-entry { font-size: 1rem; margin: 0px; line-height: 1.2; width: 100%; padding: 0px 15px 0px 0px; text-align: right; }@media not all and (min-width: 0px) {  .silk-display-if-at-least-zero { display: none !important; }}@media not all and (min-width: 30rem) {  .silk-display-if-at-least-sm { display: none !important; }}@media not all and (min-width: 48rem) {  .silk-display-if-at-least-md { display: none !important; }}@media not all and (min-width: 62rem) {  .silk-display-if-at-least-lg { display: none !important; }}@media not all and (min-width: 80rem) {  .silk-display-if-at-least-xl { display: none !important; }}@media (min-width: 0px) {  .silk-display-until-zero { display: none !important; }}@media (min-width: 30rem) {  .silk-display-until-sm { display: none !important; }}@media (min-width: 48rem) {  .silk-display-until-md { display: none !important; }}@media (min-width: 62rem) {  .silk-display-until-lg { display: none !important; }}@media (min-width: 80rem) {  .silk-display-until-xl { display: none !important; }}.silk-input.silk-input-checkbox { border: 0px; width: 1px; height: 1px; margin: -1px; padding: 0px; clip-path: inset(50%); overflow: hidden; white-space: nowrap; position: absolute; }.silk-input.silk-input-checkbox:focus-visible + * { box-shadow: 0px 0px 0 var(--silk-checkbox-focus-outline-spread, 0.1875rem) var(--silk-checkbox-focus-outline-color, var(--silk-focus-outline-color)); }.silk-input.silk-input-checkbox:not([aria-disabled]):hover + * { --silk-checkbox-icon-background-color: var(--silk-checkbox-icon-background-hover-color); }.silk-checkbox-icon-container.silk-checkbox-icon-container-checked { background-color: var(--silk-checkbox-icon-background-color); border-color: var(--silk-checkbox-icon-background-color); }.silk-checkbox-icon-container.silk-checkbox-icon-container-unchecked { background-color: var(--silk-checkbox-unchecked-background-color); }.silk-input.silk-input-switch { border: 0px; width: 1px; height: 1px; margin: -1px; padding: 0px; clip-path: inset(50%); overflow: hidden; white-space: nowrap; position: absolute; }.silk-input.silk-input-switch:focus-visible + * { box-shadow: 0px 0px 0 0.1875rem var(--silk-switch-focus-color, var(--silk-focus-outline-color)); }.silk-input.silk-input-outlined { padding-inline: var(--silk-input-padding) var(--silk-input-padding); border-radius: var(--silk-input-border-radius); border: 1px solid var(--silk-input-border-color, var(--silk-border-color)); }.silk-input.silk-input-outlined[aria-invalid="true"] { border: 1px solid var(--silk-input-border-invalid-color); box-shadow: 0px 0px 0 1px var(--silk-input-border-invalid-color); }.silk-input.silk-input-outlined:hover:not(:disabled) { border-color: var(--silk-input-border-hover-color); }.silk-input.silk-input-outlined:focus-visible:not(:disabled) { border: 1px solid var(--silk-input-border-focus-color, var(--silk-focus-outline-color)); box-shadow: 0px 0px 0 1px var(--silk-input-border-focus-color, var(--silk-focus-outline-color)); }.silk-input.silk-input-filled { padding-inline: var(--silk-input-padding) var(--silk-input-padding); background-color: var(--silk-input-filled-color); border-radius: var(--silk-input-border-radius); border: 1px solid rgba(0, 0, 0, 0); }.silk-input.silk-input-filled:hover:not(:disabled) { background-color: var(--silk-input-filled-hover-color); }.silk-input.silk-input-filled[aria-invalid="true"] { border-color: var(--silk-input-border-invalid-color); box-shadow: 0px 0px 0 1px var(--silk-input-border-invalid-color); }.silk-input.silk-input-filled:focus-visible:not(:disabled) { background-color: var(--silk-input-filled-focus-color); border-color: var(--silk-input-border-focus-color, var(--silk-focus-outline-color)); box-shadow: 0px 0px 0 1px var(--silk-input-border-focus-color, var(--silk-focus-outline-color)); }.silk-input.silk-input-flushed { border-bottom: 1px solid var(--silk-input-border-color, var(--silk-border-color)); }.silk-input.silk-input-flushed[aria-invalid="true"] { border-color: var(--silk-input-border-invalid-color); box-shadow: 0px 1px var(--silk-input-border-invalid-color); }.silk-input.silk-input-flushed:hover:not(:disabled) { border-color: var(--silk-input-border-hover-color); }.silk-input.silk-input-flushed:focus-visible:not(:disabled) { border-color: var(--silk-input-border-focus-color, var(--silk-focus-outline-color)); box-shadow: 0px 1px var(--silk-input-border-focus-color, var(--silk-focus-outline-color)); }.silk-tooltip-arrow.silk-tooltip-arrow-top-left { margin: -9px 0px 0px 9px; top: 0px; border-color: transparent transparent var(--silk-tooltip-background-color) transparent; }.silk-tooltip-arrow.silk-tooltip-arrow-top { margin: -9px 0px 0px -5px; left: 50%; top: 0px; border-color: transparent transparent var(--silk-tooltip-background-color) transparent; }.silk-tooltip-arrow.silk-tooltip-arrow-top-right { margin: -9px 9px 0px 0px; right: 0px; top: 0px; border-color: transparent transparent var(--silk-tooltip-background-color) transparent; }.silk-tooltip-arrow.silk-tooltip-arrow-left-top { margin: 9px 0px 0px -9px; left: 0px; top: 0px; border-color: transparent var(--silk-tooltip-background-color) transparent transparent; }.silk-tooltip-arrow.silk-tooltip-arrow-left { margin: -5px 0px 0px -9px; left: 0px; top: 50%; border-color: transparent var(--silk-tooltip-background-color) transparent transparent; }.silk-tooltip-arrow.silk-tooltip-arrow-left-bottom { margin: 0px 0px 9px -9px; left: 0px; bottom: 0px; border-color: transparent var(--silk-tooltip-background-color) transparent transparent; }.silk-tooltip-arrow.silk-tooltip-arrow-right-top { margin: 9px -9px 0px 0px; right: 0px; top: 0px; border-color: transparent transparent transparent var(--silk-tooltip-background-color); }.silk-tooltip-arrow.silk-tooltip-arrow-right { margin: -5px -9px 0px 0px; right: 0px; top: 50%; border-color: transparent transparent transparent var(--silk-tooltip-background-color); }.silk-tooltip-arrow.silk-tooltip-arrow-right-bottom { margin: 0px -9px 9px 0px; right: 0px; bottom: 0px; border-color: transparent transparent transparent var(--silk-tooltip-background-color); }.silk-tooltip-arrow.silk-tooltip-arrow-bottom-left { margin: 0px 0px -9px 9px; left: 0px; bottom: 0px; border-color: var(--silk-tooltip-background-color) transparent transparent transparent; }.silk-tooltip-arrow.silk-tooltip-arrow-bottom { margin: 0px 0px -9px -5px; left: 50%; bottom: 0px; border-color: var(--silk-tooltip-background-color) transparent transparent transparent; }.silk-tooltip-arrow.silk-tooltip-arrow-bottom-right { margin: 0px 9px -9px 0px; right: 0px; bottom: 0px; border-color: var(--silk-tooltip-background-color) transparent transparent transparent; }.silk-image.silk-image-fit-width { width: 100%; object-fit: scale-down; }.silk-link.silk-link-uncolored:link { color: var(--silk-color); }.silk-link.silk-link-uncolored:visited { color: var(--silk-color); }.silk-link.silk-link-undecorated:hover { text-decoration-line: none; }.silk-link.silk-link-always-underlined { text-decoration-line: underline; }.silk-toc.silk-toc-bordered { border-radius: 5px; border: 1px solid var(--silk-toc-border-color, var(--silk-border-color)); padding: 1rem; }.silk-button.silk-button-circle { padding: 0px; border-radius: 50%; }.silk-button.silk-button-uncolored { --silk-button-background-default-color: rgba(0, 0, 0, 0); }</style>
   <div class="silk-surface silk-smooth-color kobweb-box kobweb-align-top-start" style="min-height: 100vh; scroll-behavior: smooth;">
    <div class="kobweb-box kobweb-align-center" style="width: 100%; min-height: 100%; grid-template-rows: 1fr min-content;">
     <div class="kobweb-col kobweb-arrange-top kobweb-align-center-horiz" style="width: 100%; height: 100%; grid-row: 1 / 2;">
      <div class="kobweb-col kobweb-arrange-top kobweb-align-center-horiz">
       <div class="kobweb-row kobweb-arrange-start kobweb-align-center-vert" style="padding: 50px;">
        <a href="/"><img class="silk-image round-border-image" style="width: 120px; height: 120px;" src="/profile.png" alt=""></a>
        <div class="kobweb-col kobweb-arrange-top kobweb-align-start" style="margin: 0px; padding: 20px;">
         <h1 class="headline-text">Kalle Strålman ☢️</h1>
         <p class="p-text" style="color: rgb(108, 117, 125);">A tech hobbyist's guide to the galaxy.</p>
         <div class="kobweb-row kobweb-arrange-start kobweb-align-top" style="padding: 20px 0px 15px;">
          <a class="silk-link p-text" style="padding: 0px 20px 0px 0px; text-decoration-line: underline;" href="/about/">About</a><a class="silk-link p-text" style="padding: 0px 20px 0px 0px; text-decoration-line: underline;" href="/tags/">Tags</a>
         </div>
         <div class="kobweb-row kobweb-arrange-space-between kobweb-align-top" style="width: 100px;">
          <a href="https://github.com/kjeller"><span class="fa-icon fab fa-github"></span></a><a href="https://www.linkedin.com/in/karl-str%C3%A5lman-422b6b173/"><span class="fa-icon fab fa-linkedin"></span></a><a href="index.xml/"><span class="fa-icon fas fa-rss"></span></a>
         </div>
        </div>
       </div>
      </div>
      <div class="page-content kobweb-col kobweb-arrange-top kobweb-align-center-horiz">
       <div class="markdown markdown_dark kobweb-col kobweb-arrange-top kobweb-align-start" style="max-width: 65vw;">
        <div class="kobweb-col kobweb-arrange-top kobweb-align-start">
         <div class="kobweb-row kobweb-arrange-start kobweb-align-top">
          <span style="margin: 0px 15px 0px 0px; border-radius: 0.25rem; padding: 2px; background-color: white;">
           <p style="font-size: 0.7rem; color: rgb(43, 42, 51); font-weight: bold; width: 100%; max-width: 400px; min-width: 80px; margin: 0px; padding: 0px; text-align: center;">Created: 2023-01-22</p></span><span style="margin: 0px 15px 0px 0px; border-radius: 0.25rem; padding: 2px; background-color: white;">
           <p style="font-size: 0.7rem; color: rgb(43, 42, 51); font-weight: bold; width: 100%; max-width: 400px; min-width: 80px; margin: 0px; padding: 0px; text-align: center;"><a class="silk-link" href="https://github.com/kjeller/stralman.dev//tree/kobweb-wip/site/src/jsMain/resources/markdown/posts/smart_mirror/index.md">Edit on Github</a></p></span>
         </div>
        </div>
        <h2 id="introduction">Introduction</h2>
        <p>A smart mirror is essentially just a mirror with a display, electronics stuffed behind it and some software sprinkled on top. The main purpose is to display information in a condensed (hands-free) way while getting ready for the day. Mine is placed in the hallway to easily check the weather and if public transport is delayed before I go to work.</p>
        <p>Consider this post more of a project summary rather than a build-step-by-step-writeup. For some time now I've wanted to build a smart mirror, after days of work spread out over maybe two or three years I have puzzled together something that I now finally can call a "smart" - using a Raspberry PI connected to a screen that is installed behind a one-way mirror. It is by no means an original idea. There are many YouTubers happy to tell you exactly how they made their mirror. Not to mention the multitudes of great blog post writeups out there.</p>
        <p>The idea of building a smart mirror originally came to me either from a <a class="silk-link" href="https://youtu.be/puFSdfIRNIw">DIY perks video</a> or from the office's smart mirror where I did my bachelor thesis. I can't remember which one came first. Both of those were acrylic mirrors. I decided to go with glass since I did not want a plastic-y looking mirror. My motivation to build my smart mirror came from the fact that I wanted to build something similar but of a slightly more luxurious and fancy design - something closer to furniture rather than an accessory. I did not realise beforehand how expensive and heavy that meant.. but that's another topic.</p>
        <h2 id="supplies">Supplies</h2>
        <p><b>Printables &amp; 3D Printing</b></p>
        <ul>
         <li>3D printer e.g. Prusa</li>
         <li>Big roll of PLA</li>
        </ul>
        <p><b>Tools, Fixtures &amp; Fittings:</b></p>
        <ul>
         <li>T20 (4x20mm) screws</li>
         <li>Digital voltmeter</li>
         <li>Solder iron &amp; solder</li>
         <li>Cordless brushless drill driver 18V.. or a screwdriver</li>
        </ul>
        <p><b>Hardware &amp; Electronic Components</b></p>
        <ul>
         <li>Raspberry Pi 3B+ (RPI)</li>
         <li><a class="silk-link" href="https://www.amazon.se/dp/B06XKPFM74/ref=pe_24982401_503747021_TE_SCE_dp_1">LCD panel controller kit</a></li>
         <li>LCD panel (LM215WF1-TLB1)</li>
         <li>12VDC 3A adapter</li>
         <li>5VDC 2A adapter</li>
         <li>SD card</li>
        </ul>
        <p><b>Keyboard side-project</b></p>
        <ul>
         <li>x6 mechanical switches</li>
         <li>6 keycaps</li>
        </ul>
        <p><b>Mirror materials (not part of this write-up)</b></p>
        <ul>
         <li>Ninja glass (a cool name for a two-way mirror)</li>
         <li>Wooden frame</li>
        </ul>
        <h2 id="the-smart-in-smart-mirror">The "smart" in smart mirror</h2>
        <p>I contemplated between writing my own smart mirror software or using <a class="silk-link" href="https://magicmirror.builders/">Magic mirror</a>. Since this project was already extensive enough with the frame woodworking I chose the latter.</p>
        <p>Magic mirror is an open-source modular smart mirror platform with support for a lot of community-made modules that can easily be installed and configured. In the introduction, I mentioned that I want to check if public transport is delayed. Well, I didn't have to write any software to enable that. I just had to include and configure <a class="silk-link" href="https://github.com/bureus/MMM-Vasttrafik-PublicTransport/tree/18ae3a8800d6b295627766c0222894b2f4a54572">MMM-Vasttrafik-PublicTransport</a>, which is a module to display public transport operated by Västtrafik for the western part of Sweden. My magic mirror configuration including all modules can be found <a class="silk-link" href="https://github.com/kjeller/magicmirror_config">here.</a></p>
        <h3 id="setting-up-a-headless-rpi">Setting up a headless RPI</h3>
        <p>Any OS might suffice for a smart mirror but I went for the officially supported <a class="silk-link" href="https://www.raspberrypi.com/software/operating-systems/">Raspberry Pi OS</a> for the RPI. I decided to use RPI OS lite which comes without a desktop pre-installed. Yes, a smart mirror needs to be able to display something on a screen using either a desktop or a standalone window manager ( also maybe more ways that I don't know about). But instead of using a fully-fledged gnome desktop we will install something more lightweight, <a class="silk-link" href="#installing-a-desktop-manager">LightDM</a>.</p>
        <p>There is an official tutorial on how to flash the image onto the sd card which can be found <a class="silk-link" href="https://www.raspberrypi.com/documentation/computers/getting-started.html#using-raspberry-pi-imager">here</a> those comfortable with using a CLI have written a quick step-by-step below on how to download and flash the RPI without having to connect a screen below.</p>
        <p>There is also a community-driven magic mirror prepared image <a class="silk-link" href="https://github.com/guysoft/MagicMirrorOS/releases/tag/0.2.0">here</a> which is raspios lite with preinstalled configurations and binaries. You just provide your wifi credentials in a file and after ~10min after the RPI has booted you have magic mirror up and running. This guide will however focus on configuring it all manually.</p>
        <h4 id="install-the-image-to-the-sd-card-cli">Install the image to the SD card (CLI)</h4>
        <pre class="bs-code-block"><code class="language-bash hljs" data-highlighted="yes"><span class="hljs-comment"># Run the following commands on your host computer</span>
<span class="hljs-comment"># with an sd card connected.</span>

<span class="hljs-comment"># Download Raspberry Pi OS Lite</span>
$ curl -O https://downloads.raspberrypi.org/raspios_lite_armhf/images/raspios_lite_armhf-2022-09-26/2022-09-22-raspios-bullseye-armhf-lite.img.xz

<span class="hljs-comment"># List block devices before connecting SD card</span>
$ lsblk &gt; block_devs_before

<span class="hljs-comment"># Now connect the sd card and list block devices after</span>
$ lsblk &gt; block_devs_after

<span class="hljs-comment"># Now check what block device is connected to the SD card</span>
$ diff block_devs_before block_devs_after
17a18,19
&gt; mmcblk1       179:24   0   7.5G  0 disk  
&gt; └─mmcblk1p1   179:25   0   7.4G  0 part  

<span class="hljs-comment"># Extract and flash img file to SD card</span>
$ xzcat -d 2022-09-22-raspios-bullseye-armhf-lite.img.xz | sudo <span class="hljs-built_in">dd</span> of=/dev/mmcblk1 bs=32M
</code></pre>
        <h4 id="configure-the-rpi">Configure the RPI</h4>
        <p>...by editing the newly installed boot partition. Yes, there is no need to connect a keyboard and display to the RPI to configure. If you have followed the official tutorial on how to flash and configure the device, this section is probably not needed. There is a GUI where you can click setting boxes to enable stuff and also a prompt to create a user.</p>
        <p>The following block of commands covers the configuration of:</p>
        <ul>
         <li>Creating a user</li>
         <li>Configure wifi</li>
         <li>Enable ssh</li>
         <li>Disable WLAN power save sleep</li>
        </ul>
        <pre class="bs-code-block"><code class="language-bash hljs" data-highlighted="yes"><span class="hljs-comment"># To configure the headless device we need to still have the SD card</span>
<span class="hljs-comment"># plugged in.</span>
<span class="hljs-comment"># The boot partition needs to be mounted.</span>
$ sudo <span class="hljs-built_in">mkdir</span> /mnt/rpi-boot
$ sudo mount /dev/mmcblk1p1 /mnt/rpi-boot

<span class="hljs-comment"># Create a user (userconf)</span>
<span class="hljs-comment"># Since default user pi is no longer added:</span>
<span class="hljs-comment"># https://www.raspberrypi.com/news/raspberry-pi-bullseye-update-april-2022/</span>
$ <span class="hljs-built_in">echo</span> -n <span class="hljs-string">"USERNAME"</span> &gt; userconf
$ <span class="hljs-built_in">echo</span> <span class="hljs-string">"PASSWORD"</span> | openssl passwd -6 -stdin &gt;&gt; userconf
$ sudo <span class="hljs-built_in">cp</span> userconf /mnt/rpi-boot

<span class="hljs-comment"># Enable ssh:</span>
<span class="hljs-comment"># Create an empty file labeled "ssh" or "ssh.txt"</span>
$ sudo <span class="hljs-built_in">touch</span> /mnt/rpi-boot/ssh

<span class="hljs-comment"># Wifi settings (wpa_supplicant.conf):</span>
<span class="hljs-comment"># Create the file /mnt/rpi-boot/wpa_supplicant.conf with the following contents</span>
$ <span class="hljs-built_in">echo</span> <span class="hljs-string">"
country=SE # Replace this with your 2-digit country code
ctrl_interface=DIR=/var/run/wpa_supplicant GROUP=netdev
update_config=1
network={
    ssid="</span>YOUR_NETWORK_NAME<span class="hljs-string">"
    psk="</span>YOUR_PASSWORD<span class="hljs-string">"
}"</span> &gt; wpa_supplicant.conf
$ sudo <span class="hljs-built_in">cp</span> wpa_supplicant.conf /mnt/rpi-boot

<span class="hljs-comment"># ..and lastly when done unmount the SD card</span>
$ sudo umount /mnt/rpi-boot

<span class="hljs-comment"># Insert the SD card into the RPI and Power it up.</span>
<span class="hljs-comment"># Update the apt repositories and upgrade all packages</span>
<span class="hljs-comment"># and also disable wlan power save</span>
$ ssh USERNAME@IP_ADDRESS <span class="hljs-string">"
sudo apt update; sudo apt upgrade; \
sudo iw wlan0 set power_save off
"</span>
</code></pre>
        <h4 id="configure-ssh-optional-but-very-recommended">Configure SSH (Optional but very recommended)</h4>
        <p>This section covers how to configure SSH to not allow root or password logins only pub/priv key.</p>
        <p>Add host public key to RPI allowed keys:</p>
        <pre class="bs-code-block"><code class="language-bash hljs" data-highlighted="yes"><span class="hljs-comment"># First generate a ssh pub/priv keypair for yourself.</span>
<span class="hljs-comment"># (Nowadays Ed25519 is preferable over RSA so I'll use that)</span>
$ ssh-keygen -t ed25519

<span class="hljs-comment"># ..then generate a ssh pub/priv keypair for the RPI</span>
$ ssh USERNAME@IP_ADDRESS <span class="hljs-string">"ssh-keygen -t ed25519"</span>

<span class="hljs-comment"># This will prompt the user to input PASSWORD.</span>
<span class="hljs-comment"># USERNAME and PASSWORD is the username selected in the previous section.</span>
$ ssh USERNAME@IP_ADDRESS <span class="hljs-string">"echo `cat ~/.ssh/id_ed25519.pub` &gt;&gt; ~/.ssh/authorized_keys"</span>
</code></pre>
        <p>Then edit the ssh settings to not allow root or only allow pub key authentication <em><a class="silk-link" href="https://raw.githubusercontent.com/kjeller/magicmirror_setup/main/image/image-root/etc/ssh/sshd_config">/etc/ssh/sshd_config</a></em>:</p>
        <pre class="bs-code-block"><code class="language-bash hljs" data-highlighted="yes"><span class="hljs-comment"># Disable root login</span>
PermitRootLogin no

<span class="hljs-comment"># Enable public key authentication (add)</span>
PubkeyAuthentication <span class="hljs-built_in">yes</span>

<span class="hljs-comment"># Disable tunneled clear text passwords</span>
PasswordAuthentication no

<span class="hljs-comment"># Change to yes to enable challenge-response passwords (beware issues with</span>
<span class="hljs-comment"># some PAM modules and threads)</span>
ChallengeResponseAuthentication no
</code></pre>
        <h4 id="installing-a-desktop-manager">Installing a desktop manager</h4>
        <p>So now the headless RPI gets a head! I rolled the dice and chose a lightweight desktop manager called LightDM. There might be better alternatives to explore ( see <a class="silk-link" href="#reflections-and-future-improvements">future improvements</a>).</p>
        <p>What the desktop manager should be able to do:</p>
        <ul>
         <li>Auto start and login</li>
         <li>Auto-rotate to portrait orientation</li>
         <li>Start magic mirror GUI application</li>
        </ul>
        <p>Install LightDM and X11 support to enable GUI applications to run on the RPI.</p>
        <pre class="bs-code-block"><code class="language-bash hljs" data-highlighted="yes"><span class="hljs-comment"># xrandr from x11-xserver-utils is used to rotate the screen and select output source. See /etc/lightdm.conf below.</span>
$ sudo apt install lightdm x11-xserver-utils
</code></pre>
        <p><em><a class="silk-link" href="https://raw.githubusercontent.com/kjeller/magicmirror_setup/main/image/image-root/etc/lightdm/lightdm.conf">/etc/lightdm.conf</a></em>:</p>
        <pre class="bs-code-block"><code class="language-bash hljs" data-highlighted="yes">[Seat:*]
<span class="hljs-comment"># Change rotation based on how your screen panel is installed</span>
display-setup-script=xrandr --output HDMI-1 --rotate left

<span class="hljs-comment"># Remember to replace USERNAME with actual username</span>
autologin-user=USERNAME
</code></pre>
        <h3 id="install-and-configure-magic-mirror">Install and configure Magic Mirror</h3>
        <p>Run Magic Mirror on the RPI using this <a class="silk-link" href="https://hub.docker.com/r/karsten13/magicmirror/">docker image</a> (documentation can be found <a class="silk-link" href="https://khassel.gitlab.io/magicmirror/">here</a>). From the docs: "<em>Using docker simplifies the setup by using the docker image instead of setting up the host with installing all the node.js stuff etc. Getting/Updating the image is done with one command</em>.". The docker image can be run in two modes: server and electron. The server mode is useful e.g. when testing a new module before pushing it to the smart mirror or if you want to host your magic mirror application on a dedicated server. Electron mode is run on the target where your magic mirror display is connected. For this section, I will be using my magic mirror configuration. For this, I have some secret env files that I don't want to share. If you're interested in running my config anyways uncomment these lines:</p>
        <pre class="bs-code-block"><code class="language-yaml hljs" data-highlighted="yes"><span class="hljs-attr">env_file:</span>
  <span class="hljs-bullet">-</span> <span class="hljs-string">./secret/secret.env</span>
</code></pre>
        <p><a class="silk-link" href="https://github.com/kjeller/magicmirror_config">Github link to my magic mirror config</a></p>
        <p>Server use case (<a class="silk-link" href="https://raw.githubusercontent.com/kjeller/magicmirror_config/master/docker-compose_mmserver.yml">docker-compose_mmserver.yml</a>):</p>
        <pre class="bs-code-block"><code class="language-bash hljs" data-highlighted="yes"><span class="hljs-comment"># Run this if you want to test my magic mirror configuration.</span>
<span class="hljs-comment"># This is how I tested my configuration on my laptop before trying to get</span>
<span class="hljs-comment"># it to work on my RPI</span>
$ sudo apt install docker-compose
$ git <span class="hljs-built_in">clone</span> git@github.com:kjeller/magicmirror_config.git
$ <span class="hljs-built_in">cd</span> magicmirror_config

<span class="hljs-comment"># If this step fails make sure to check that you are in the docker group.</span>
$ ./start.sh server

<span class="hljs-comment"># Now browse to localhost:8080 with any web browser</span>
</code></pre>
        <p>Electron use case (<a class="silk-link" href="https://raw.githubusercontent.com/kjeller/magicmirror_config/master/docker-compose_mmclient.yml">docker-compose_mmclient.yml</a>):</p>
        <pre class="bs-code-block"><code class="language-bash hljs" data-highlighted="yes"><span class="hljs-comment"># Run this on your RPI</span>
$ sudo apt install docker-compose
$ git <span class="hljs-built_in">clone</span> git@github.com:kjeller/magicmirror_config.git
$ <span class="hljs-built_in">cd</span> magicmirror_config

<span class="hljs-comment"># If this step fails make sure to check that you are in the docker group.</span>
$ ./start.sh
</code></pre>
        <p>After start.sh has been run magic mirror will automatically run on reboot and try to output to a display. The next step is to connect the RPI to a screen so that it actually can display stuff.</p>
        <h2 id="screen-panel-controller">Screen panel &amp; controller</h2>
        <p>But now for actually displaying stuff from the RPI to a screen.</p>
        <p>I wanted it to be as cheap as possible while still being a viable option. I looked for alternatives on eBay but decided to go with an LCD panel I got from my friend (thanks Martin).</p>
        <h3 id="replacing-the-kit-screen-panel-keyboard">Replacing the kit screen panel keyboard</h3>
        <p>This is the screen panel controller keyboard that came with the kit that I bought specifically for my screen panel (you can find the link in the <a class="silk-link" href="#supplies">supplies section</a>). As you can see it is not very aesthetically pleasing.</p>
        <p><img class="silk-image" src="/images/old_panel_kb_cropped.jpg" alt="old_panel_kb.jpg"></p>
        <p>The mirror is not fully complete before I replace that <em>ugly</em> keyboard with something <b>A)</b> aesthetically pleasing <b>B)</b> smaller and <b>C)</b> with mechanical switches.</p>
        <p>For starters, I had to trace the keyboard to see what pin each PCB switch is connected to including the RGB led. I used the diode tester function on my voltmeter and bleeped my way through all the traces, pin, test pads and whatnot which resulted in this basic schematic (thanks EasyEDA, I promise I will learn Kicad one of these days): <img class="silk-image" src="/images/old_panel_schematic.png" alt="old_panel_schematic.png"></p>
        <p>There's not much to reflect on here. The order in which the PCB switches appear does not in any way correspond to what order in which they are connected to the header pins. That doesn't matter much for this sub-project anyways. Also, notice that the RGB LED in the keyboard is a common cathode.</p>
        <h3 id="new-flashy-keyboard">New flashy keyboard</h3>
        <p>Now for the design of the new flashy keyboard. For this step I kinda just took what I had laying around:</p>
        <ul>
         <li>Old Razer keyboard PCB full of green Razer RGB mechanical switches. Fun trivia: I ~~stole~~ found this in the waste room of my previous apartment, it was in a very gross condition so I ran it through the dishwasher.</li>
         <li>Keycaps from an old Coolermaster keyboard with "support" for RGB switches.</li>
        </ul>
        <p>Then I worked my brain for a while and MS Paint spawned this design for me: <img class="silk-image" src="/images/new_panel_schematic.png" alt="new_panel_schematic.png"></p>
        <p>I forgot that I could have used draw.io which was my faithful servant when I studied.. anyways since MS Paint forgot to include a legend for the image:</p>
        <ul>
         <li>Black-colored boxes: MX switches</li>
         <li>Grey-colored lines/circles: solder-able pins</li>
         <li>Blue-colored lines: Keyboard function</li>
         <li>R: Red LED, for when things are not fine</li>
         <li>G: Green LED, for when things are fine</li>
         <li>GND: Ground</li>
         <li>Black lines between grey lines/circles: where to solder to confuse things even more this drawing of the switch footprint is drawn from below. So right key is actually on the left when looking from above. If that makes sense.</li>
        </ul>
        <p>The reason why I use two diodes on two different switches instead of one is that - as I previously mentioned the screen panel keyboard RGB is common cathode which is not directly compatible with the mechanical switch RGB which is common anode. Instead of adding extra circuitry, I decided to use two LEDs instead.</p>
        <p>Ignoring any thoughts of unnecessary feature creep I can safely say that I am happy with the results. (The green cable is not sticking out in the final version) <img class="silk-image" src="/images/new_panel_kb_cropped.png" alt="new_panel_kb.png"></p>
        <h2 id="integrating-everything">Integrating everything</h2>
        <p>Now to put everything together. The screen panel is placed directly behind the glass together with a plywood piece with a cutout for the panel. The panel is then fastened using 3D-printed bricks that can be screwed into place in the frame. Then the electronics are installed similarly onto the plywood.</p>
        <p>A link to the STLs can be found <a class="silk-link" href="https://www.printables.com/model/326377-smart-mirror-electronics-mounts/files">here.</a>.</p>
        <p>The LCD panel controller is connected to:</p>
        <ul>
         <li>+12V power supply</li>
         <li>HDMI output from RPI</li>
         <li>Panel keyboard controller which controls the screen (on/off, source selection etc)</li>
         <li>CCFL inverter board which consists of four CCFL inverter circuits that power the screen panel</li>
         <li>Screen panel via its control signal cable</li>
        </ul>
        <p>The RPI is connected to:</p>
        <ul>
         <li>+5V power supply</li>
         <li>HDMI output to the LCD panel controller</li>
        </ul>
        <p>All this can be seen in the following image: <img class="silk-image" src="/images/mirror_back_cropped.png" alt="mirror_back_small.png"></p>
        <p>...and finally the mirror on the wall!</p>
        <p><img class="silk-image" src="/images/mirror_front_cropped.jpg" alt="mirror_front.jpg"></p>
        <p><img class="silk-image" src="/images/mirror_cropped-min.jpg" alt="mirror_front_closeup.jpg"></p>
        <h2 id="reflections-and-future-improvements">Reflections and future improvements</h2>
        <p>It was both fun and challenging to combine many of my interests into a single project, 3D modeling and printing, woodworking, IoT, which resulted in something that I use almost every day. But am I really done with this project?</p>
        <p>This section touches on things I would like to revisit, fine-tune and/or rework.</p>
        <h3 id="cold-cathode-fluorescent-lamps-ccfl">Cold cathode fluorescent lamps (CCFL)</h3>
        <p>I can not stress this enough:</p>
        <p><b>Don't use a CCFL screen panel for your smart mirror project</b>:</p>
        <ul>
         <li>Aging: the screen controller or the backlight will break over time. The lifetime of a LED backlit screen is greater.</li>
         <li>Power inefficiency: CCFL backlight is inefficient i.e. draws a lot of power</li>
         <li>Weight and warmth: CCFL screen is heavy and gets warm.</li>
        </ul>
        <p>Consider using a LED backlit screen panel/monitor. When my CCFL screen finally dies I will either switch to a LED backlit screen or try to <a class="silk-link" href="https://hackaday.com/2011/05/31/lcd-replacing-ccfl-with-leds/">replace the CCFL with LED</a>.</p>
        <h3 id="one-power-cable-instead-of-two">One power cable instead of two</h3>
        <p>The current solution requires two power cables: one for the screen controller and one for the RPI. The screen panel controller that I bought converts 12VDC to 5VDC for its processing. Instead of having a separate USB power cable to the RPI I could have instead soldered a USB cable to +5V and GND, connect it to the RPI and done with it. The reason I did not do that was that I hastily bought a 12VDC adapter that could output 3 amperes, the exact amount to power the screen but not the RPI. When I can justify buying a second adapter I want to fix this.</p>
        <h3 id="an-even-more-lightweight-graphical-environment">An even more lightweight graphical environment</h3>
        <p>I have read about standalone window managers that do not require a fully-fledged desktop to display GUI-dependent applications. You could argue that LightDM already is a lightweight desktop manager, I mean it is in the name but I am thinking that there should be some specially designed software for this. If there isn't maybe I'll implement my own and write a post about it... if I ever get to it.</p>
        <h3 id="power-off-the-display-when-no-one-is-home">Power off the display when no one is home</h3>
        <p>I want to integrate my smart mirror with <a class="silk-link" href="https://www.home-assistant.io/">Home Assistant</a>. With the help of sensors or geographical data from mobile phones, Home Assistant can determine if someone is home. This information together with some kind of controller circuit for example grounding the ON/OFF panel keyboard pin, I could control whether the screen should be turned on or not. The CCFL screen is, as I've previously stated, power inefficient and with this solution, I could save some kWh every month!</p>
       </div>
      </div>
     </div>
     <div class="footer footer_dark kobweb-box kobweb-align-center" style="grid-row: 2 / 3;">
      <span style="text-align: center;">
       <div class="kobweb-col kobweb-arrange-top kobweb-align-start">
        <div class="kobweb-row kobweb-arrange-start kobweb-align-top">
         <span style="white-space: pre-wrap; text-align: center;"><span class="silk-span-text" style="white-space: pre-wrap;">Powered by </span><a class="silk-link silk-link-uncolored" style="--silk-color: rgb(60, 131, 239);" href="https://github.com/varabyte/kobweb">Kobweb</a><span class="silk-span-text" style="white-space: pre-wrap;">, site source </span><a class="silk-link silk-link-uncolored" style="--silk-color: rgb(60, 131, 239); white-space: nowrap; font-family: monospace;" href="https://github.com/kjeller/stralman.dev">here</a></span>
        </div>
        <div class="kobweb-row kobweb-arrange-center kobweb-align-top" style="font-size: 0.7rem; width: 100%;">
         <span class="silk-span-text" style="white-space: pre-wrap;">Inspired by Hugo theme </span><a class="silk-link silk-link-uncolored" style="--silk-color: rgb(60, 131, 239);" href="https://github.com/austingebauer/devise"> Devise</a>
        </div>
       </div>
       <div class="kobweb-row kobweb-arrange-center kobweb-align-top">
        <span class="silk-span-text bs-copyright">© 2023, Karl Strålman</span>
       </div></span>
     </div>
    </div>
   </div>
  </div>
  <script src="/stralman.js"></script>
 </body>
</html>